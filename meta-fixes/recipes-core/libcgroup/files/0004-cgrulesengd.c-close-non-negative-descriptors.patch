From eb70acb17dea9119c189d91e933b0839269a942d Mon Sep 17 00:00:00 2001
From: Ismo Puustinen <ismo.puustinen@intel.com>
Date: Tue, 4 Aug 2015 16:17:10 +0300
Subject: [PATCH 4/6] cgrulesengd.c: close non-negative descriptors.

Upstream-status: Submitted

Signed-off-by: Ismo Puustinen <ismo.puustinen@intel.com>

diff --git a/src/daemon/cgrulesengd.c b/src/daemon/cgrulesengd.c
index 367b898..d151efc 100644
--- a/src/daemon/cgrulesengd.c
+++ b/src/daemon/cgrulesengd.c
@@ -784,9 +784,9 @@ static int cgre_create_netlink_socket_process_msg(void)
 	}
 
 close_and_exit:
-	if (sk_nl > 0)
+	if (sk_nl >= 0)
 		close(sk_nl);
-	if (sk_unix > 0)
+	if (sk_unix >= 0)
 		close(sk_unix);
 	return rc;
 }
-- 
2.4.3

