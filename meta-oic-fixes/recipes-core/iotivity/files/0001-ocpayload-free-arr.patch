From c6e46ddaf5164682b665a9cb404ce9fb335ea4b4 Mon Sep 17 00:00:00 2001
From: Kevron Rees <kevron.m.rees@intel.com>
Date: Wed, 23 Sep 2015 14:25:52 -0700
Subject: [PATCH 1/7] ocpayload: free arr

Upstream Status: Backported
---
 resource/csdk/stack/src/ocpayloadparse.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/resource/csdk/stack/src/ocpayloadparse.c b/resource/csdk/stack/src/ocpayloadparse.c
index 203986f..7d54fde 100644
--- a/resource/csdk/stack/src/ocpayloadparse.c
+++ b/resource/csdk/stack/src/ocpayloadparse.c
@@ -639,6 +639,10 @@ static bool OCParseArray(OCRepPayload* out, const char* name, CborValue* contain
             break;
     }
 
+    if(arr && err)
+    {
+        free(arr);
+    }
     return err;
 }
 
-- 
2.1.4

