From 0eb90c917a1d300936d3b27ca2d883eb2313a9b5 Mon Sep 17 00:00:00 2001
From: Kevron Rees <kevron.m.rees@intel.com>
Date: Tue, 22 Sep 2015 14:12:30 -0700
Subject: [PATCH 2/7] ocstack.c: terminate strings

Upstream Status: Backported
---
 resource/csdk/stack/src/ocstack.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/resource/csdk/stack/src/ocstack.c b/resource/csdk/stack/src/ocstack.c
index be6fa96..e4ea0ab 100644
--- a/resource/csdk/stack/src/ocstack.c
+++ b/resource/csdk/stack/src/ocstack.c
@@ -410,6 +410,7 @@ void CopyDevAddrToEndpoint(const OCDevAddr *in, CAEndpoint_t *out)
     out->adapter = (CATransportAdapter_t)in->adapter;
     out->flags = OCToCATransportFlags(in->flags);
     strncpy(out->addr, in->addr, MAX_ADDR_STR_SIZE);
+    out->addr[MAX_ADDR_STR_SIZE - 1] = '\0';
     out->port = in->port;
 }
 
@@ -431,6 +432,7 @@ static OCStackResult OCCreateEndpoint(OCDevAddr *devAddr, CAEndpoint_t **endpoin
     }
     ep->flags = OCToCATransportFlags(devAddr->flags);
     strncpy(ep->addr, devAddr->addr, MAX_ADDR_STR_SIZE_CA);
+    ep->addr[MAX_ADDR_STR_SIZE_CA - 1] = '\0';
     ep->port = devAddr->port;
 
     *endpoint = ep;
-- 
2.1.4

